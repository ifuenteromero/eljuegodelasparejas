"use strict";const btnBeginEl=document.querySelector(".btn--begin"),input4CardsEl=document.getElementById("card4"),input6CardsEl=document.getElementById("card6"),input8CardsEl=document.getElementById("card8"),cardContainer=document.querySelector(".card__container"),aux=document.querySelector(".aux"),defaultImage="https://via.placeholder.com/160x195/30d9c4/ffffff/?text=ADALAB";let arrayCards=[],arrayObjectsGame=[],arrayObjectsFront=[],numberCards=4;function getNumberCardsSaved(){const e=localStorage.getItem("numberCards");if(e){numberCards=e,document.getElementById("card"+e).checked=!0}else numberCards=4}function getNumberSelected(e){numberCards=e.currentTarget.value,localStorage.setItem("numberCards",numberCards)}function getCards(){arrayObjectsFront=[],cardContainer.innerHTML="",fetch("https://raw.githubusercontent.com/Adalab/cards-data/master/"+numberCards+".json").then(e=>e.json()).then(e=>{printDefaultImages(arrayCards=e)})}function printDefaultImages(e){arrayObjectsGame=[];for(let t=0;t<e.length;t++){const r=document.createElement("li");cardContainer.appendChild(r);const a=document.createElement("img");r.appendChild(a),r.classList.add("card"),a.classList.add("card__image"),a.setAttribute("src",defaultImage),addObjectArrayGame(t,e[t].image,e[t].pair),a.setAttribute("id",t),r.addEventListener("click",changeImage),a.setAttribute("data-paired",!1)}}function changeImage(e){const t=e.currentTarget.querySelector("img"),r=parseInt(t.getAttribute("id")),a=(t.src,arrayObjectsGame.find(e=>e.id===r));console.log(a);const n=arrayObjectsFront.includes(a);if(console.log(n),!n&&(t.setAttribute("src",arrayObjectsGame[r].image),arrayObjectsFront.push(a),2===arrayObjectsFront.length)){if(a.pair==arrayObjectsFront[0].pair){const e=arrayObjectsFront[0].id,t=a.id,r=document.getElementById(e),n=document.getElementById(t);r.setAttribute("data-paired",!0),n.setAttribute("data-paired",!0),console.log(r,n)}else setTimeout(allCardsBack,2e3);arrayObjectsFront=[]}console.log(arrayObjectsFront)}function createObject(e,t,r){return{id:e,image:t,pair:r}}function addObjectArrayGame(e,t,r){const a=createObject(e,t,r);arrayObjectsGame.push(a)}function borrarcache(){allCardsBack()}function allCardsBack(){arrayObjectsFront=[];const e=document.querySelectorAll(".card__image");console.log(e);for(const t of e){"false"==t.getAttribute("data-paired")&&(t.src=defaultImage)}console.log(arrayObjectsFront)}getNumberCardsSaved(),input4CardsEl.addEventListener("click",getNumberSelected),input6CardsEl.addEventListener("click",getNumberSelected),input8CardsEl.addEventListener("click",getNumberSelected),btnBeginEl.addEventListener("click",getCards),aux.addEventListener("click",borrarcache);