{"version":3,"sources":["main.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"main.js","sourcesContent":["'use strict';\n\nconst btnBeginEl = document.querySelector('.btn--begin');\nconst input4CardsEl = document.getElementById('card4');\nconst input6CardsEl = document.getElementById('card6');\nconst input8CardsEl = document.getElementById('card8');\nconst cardContainer = document.querySelector('.card__container');\nconst aux = document.querySelector('.aux');\nconst defaultImage = 'https://via.placeholder.com/160x195/30d9c4/ffffff/?text=ADALAB';\nlet arrayCards =[];\nlet arrayObjectsGame = [];\nlet arrayObjectsFront=[];\nlet numberCards =4;\ngetNumberCardsSaved();\n\n\nfunction getNumberCardsSaved(){\n    const data = localStorage.getItem('numberCards');\n    if (data){\n        numberCards=data;\n        const inputChecked = document.getElementById('card'+data);\n        inputChecked.checked=true;\n    }\n    else{numberCards=4}\n    \n}\nfunction getNumberSelected(event){\n    numberCards = event.currentTarget.value;\n    localStorage.setItem('numberCards',numberCards);\n}\n\ninput4CardsEl.addEventListener('click',getNumberSelected);\ninput6CardsEl.addEventListener('click',getNumberSelected);\ninput8CardsEl.addEventListener('click',getNumberSelected);\nbtnBeginEl.addEventListener('click',getCards);\naux.addEventListener('click',borrarcache);\n\nfunction getCards(){\n    arrayObjectsFront=[];\n    cardContainer.innerHTML='';\n    fetch ('https://raw.githubusercontent.com/Adalab/cards-data/master/'+numberCards+'.json')\n    .then(response => response.json())\n    .then(data => {arrayCards = data;\n        printDefaultImages(arrayCards) });     \n}\n\nfunction printDefaultImages(arrayCards){ \n    arrayObjectsGame=[];\n    for(let i=0;i<arrayCards.length;i++)\n    { \n        const card = document.createElement('li');\n        cardContainer.appendChild(card);\n        const cardImage = document.createElement('img');\n        card.appendChild(cardImage);\n        card.classList.add('card');\n        cardImage.classList.add('card__image');\n        cardImage.setAttribute('src',defaultImage);\n        addObjectArrayGame(i,arrayCards[i].image,arrayCards[i].pair);   \n        cardImage.setAttribute('id',i);\n        card.addEventListener('click',changeImage);\n        cardImage.setAttribute('data-paired',false);\n    }\n    // console.log(arrayObjectsGame);\n}\n\nfunction changeImage(event){\n    const card= event.currentTarget;\n    const cardImage = card.querySelector('img');\n    const cardImageId = parseInt(cardImage.getAttribute('id'));\n    const currentImage = cardImage.src;\n    const obj = arrayObjectsGame.find(card=>card.id===cardImageId);\n    console.log(obj);\n    const fronted = arrayObjectsFront.includes(obj);\n    console.log(fronted);\n    \n    if (!fronted){\n        cardImage.setAttribute('src',arrayObjectsGame[cardImageId].image);\n        arrayObjectsFront.push(obj);  \n        if(arrayObjectsFront.length ===2){\n            const currentPair = obj.pair;\n            const otherPair = arrayObjectsFront[0].pair;\n            // console.log ('current'+currentPair);\n            // console.log ('other'+otherPair);\n            if (currentPair==otherPair){\n                const otherId = arrayObjectsFront[0].id;\n                const currentId = obj.id;\n                const otherCard = document.getElementById(otherId);\n                const currentCard = document.getElementById(currentId);\n                otherCard.setAttribute('data-paired',true);\n                currentCard.setAttribute('data-paired',true);\n                console.log(otherCard,currentCard);\n            }\n            else{ setTimeout(allCardsBack,2000);}\n            arrayObjectsFront=[];\n        }\n        \n    }\n    // else{\n    //     cardImage.setAttribute('src',defaultImage);\n    //     arrayObjectsFront=arrayObjectsFront.filter(card=>card.id!==cardImageId);\n\n    // }\n    console.log(arrayObjectsFront); \n}\n\nfunction createObject(id,image,pair){\n    const obj ={\n        id :id ,\n        image: image,\n        pair:pair,\n    }\n    return obj;\n\n}\nfunction addObjectArrayGame(id,image,pair){\n    const obj = createObject(id,image,pair);\n    arrayObjectsGame.push(obj);    \n}\n\n\nfunction borrarcache(){\n    // localStorage.removeItem('numberCards');\n    allCardsBack();\n}\n\nfunction allCardsBack(){\n    arrayObjectsFront=[];\n    const allCards = document.querySelectorAll('.card__image');\n    // const cardsNotPaired = allCards.filter(card=>\n    //     !card.getAttribute('data-paired'));\n    console.log(allCards);\n    for (const card of allCards){\n        const paired = card.getAttribute('data-paired');\n        if(paired=='false'){\n            card.src = defaultImage;\n        }\n       \n    }\n    console.log(arrayObjectsFront);\n}"]}