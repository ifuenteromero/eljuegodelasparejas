{"version":3,"sources":["main.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"main.js","sourcesContent":["'use strict';\n\nconst btnBeginEl = document.querySelector('.btn--begin');\nconst input4CardsEl = document.getElementById('card4');\nconst input6CardsEl = document.getElementById('card6');\nconst input8CardsEl = document.getElementById('card8');\nconst cardContainer = document.querySelector('.card__container');\nconst aux = document.querySelector('.aux');\nconst defaultImage = 'https://via.placeholder.com/160x195/30d9c4/ffffff/?text=ADALAB';\nlet arrayCards =[];\n\nlet arrayObjectsGame = [];\nlet arrayObjectsCache=[];\nlet numberCards =4;\ngetNumberCardsSaved();\ngetDataFromCache();\n\nfunction getNumberCardsSaved(){\n    const data = localStorage.getItem('numberCards');\n    if (data){\n        numberCards=data;\n        const inputChecked = document.getElementById('card'+data);\n        inputChecked.checked=true;\n    }\n    else{numberCards=4}\n    \n}\nfunction getNumberSelected(event){\n    numberCards = event.currentTarget.value;\n    localStorage.setItem('numberCards',numberCards);\n}\n\ninput4CardsEl.addEventListener('click',getNumberSelected);\ninput6CardsEl.addEventListener('click',getNumberSelected);\ninput8CardsEl.addEventListener('click',getNumberSelected);\nbtnBeginEl.addEventListener('click',getCards);\naux.addEventListener('click',borrarcache);\n\nfunction getCards(){\n    cardContainer.innerHTML='';\n    fetch ('https://raw.githubusercontent.com/Adalab/cards-data/master/'+numberCards+'.json')\n    .then(response => response.json())\n    .then(data => {arrayCards = data;\n        printDefaultImages(arrayCards) });     \n}\n\nfunction printDefaultImages(arrayCards){\n  \n    arrayObjectsGame=[];\n    for(let i=0;i<arrayCards.length;i++)\n    { \n        const card = document.createElement('li');\n        cardContainer.appendChild(card);\n        const cardImage = document.createElement('img');\n        card.appendChild(cardImage);\n        card.classList.add('card');\n        cardImage.classList.add('card__image');\n        cardImage.setAttribute('src',defaultImage);\n        addObjectArrayGame(i,arrayCards[i].image,arrayCards[i].pair);\n       \n        cardImage.setAttribute('id',i);\n        card.addEventListener('click',changeImage);\n       \n       \n    }\n    // console.log(arrayObjectsGame);\n}\n\nfunction changeImage(event){\n    const card= event.currentTarget;\n    const cardImage = card.querySelector('img');\n    const cardImageId = parseInt(cardImage.getAttribute('id'));\n    // console.log(cardImageId);\n    const currentImage = cardImage.src;\n    const obj = arrayObjectsGame.find(card=>card.id===cardImageId);\n    \n    // console.log(arrayObjectsGame);\n    if (currentImage == defaultImage){\n        cardImage.setAttribute('src',arrayObjectsGame[cardImageId].image);\n         addObjectCache(obj);\n        \n       \n    }\n    else{\n        cardImage.setAttribute('src',defaultImage);\n        removeObjectCache(obj);\n    }\n    \n}\n\nfunction createObject(id,image,pair){\n    const obj ={\n        id :id ,\n        image: image,\n        pair:pair,\n    }\n    return obj;\n    \n\n}\nfunction addObjectArrayGame(id,image,pair){\n    const obj = createObject(id,image,pair);\n    arrayObjectsGame.push(obj);\n    localStorage.setItem('pairsGame',JSON.stringify(arrayObjectsGame));\n    //  console.log(arrayObjectsGame);\n}\n\nfunction addObjectCache(obj){\n    arrayObjectsCache.push(obj);\n    localStorage.setItem('savedPairs',JSON.stringify(arrayObjectsCache));\n}\nfunction removeObjectCache(obj){\n    arrayObjectsCache = arrayObjectsCache.filter(objeto=>objeto.id!==obj.id);\n    localStorage.setItem('savedPairs',JSON.stringify(arrayObjectsCache));\n}\nfunction borrarcache(){\n    localStorage.removeItem('savedPairs');\n    localStorage.removeItem('pairsGame');\n    localStorage.removeItem('numberCards');\n}\n\nfunction getDataFromCache(){\n    const data = JSON.parse(localStorage.getItem('savedPairs'));\n    if(data){ arrayObjectsCache =data}else{arrayObjectsCache=[];}\n    const dataGame = JSON.parse(localStorage.getItem('pairsGame'));\n    if (dataGame){arrayObjectsGame=dataGame}else{arrayObjectsGame=[]};\n   \n}\n\n\nconsole.log(arrayObjectsCache);\nconsole.log(arrayObjectsGame);\nprintFromCache();\nfunction printFromCache(){\n    for(let i=0;i<arrayObjectsGame.length;i++)\n    { \n        const card = document.createElement('li');\n        cardContainer.appendChild(card);\n        const cardImage = document.createElement('img');\n        card.appendChild(cardImage);\n        card.classList.add('card');\n        cardImage.classList.add('card__image');\n        const obj = arrayObjectsCache.find(card=>card.id===i);\n        let currentImage=defaultImage;\n        if(obj){currentImage=arrayObjectsGame[i].image;}\n        cardImage.setAttribute('src',currentImage);\n        // addObjectArrayGame(i,arrayCards[i].image,arrayCards[i].pair);\n       \n        cardImage.setAttribute('id',i);\n        card.addEventListener('click',changeImage);\n       \n    }\n    // console.log(arrayObjectsGame);\n}\n"]}